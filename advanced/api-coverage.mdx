---
title: API Coverage
description: Complete Next.js 16 API compatibility matrix for vinext
---

## Overview

vinext implements approximately **94% of the Next.js 16 API surface** with full or partial support. The remaining gaps are intentional stubs for deprecated features and edge cases.

<Note>
  **Legend:**
  - âœ… = Full implementation
  - ðŸŸ¡ = Partial (runtime behavior correct, some build-time optimizations missing)
  - â¬œ = Intentional stub/no-op
</Note>

## Module Shims

Every `next/*` import is shimmed to a Vite-compatible implementation.

### Core Modules

| Module | Status | Notes |
|--------|--------|-------|
| `next/link` | âœ… | All props including `prefetch` (IntersectionObserver), `onNavigate`, scroll restoration, `basePath`, `locale` |
| `next/image` | ðŸŸ¡ | Remote images via [@unpic/react](https://unpic.pics) (28 CDNs). Local images via `<img>` + srcSet. No build-time optimization/resizing |
| `next/head` | âœ… | SSR collection + client-side DOM manipulation |
| `next/router` | âœ… | `useRouter`, `Router` singleton, events, client-side navigation, SSR context, i18n |
| `next/navigation` | âœ… | `usePathname`, `useSearchParams`, `useParams`, `useRouter`, `redirect`, `notFound`, `forbidden`, `unauthorized` |
| `next/server` | âœ… | `NextRequest`, `NextResponse`, `NextURL`, cookies, `userAgent`, `after`, `connection`, `URLPattern` |
| `next/headers` | âœ… | Async `headers()`, `cookies()`, `draftMode()` |
| `next/dynamic` | âœ… | `ssr: true`, `ssr: false`, `loading` component |
| `next/script` | âœ… | All 4 strategies (`beforeInteractive`, `afterInteractive`, `lazyOnload`, `worker`) |

### Fonts and Assets

| Module | Status | Notes |
|--------|--------|-------|
| `next/font/google` | ðŸŸ¡ | Runtime CDN loading. No self-hosting, font subsetting, or fallback metrics |
| `next/font/local` | ðŸŸ¡ | Runtime `@font-face` injection. Not extracted at build time |
| `next/og` | âœ… | OG image generation via `@vercel/og` (Satori + resvg) |

### Cache and State

| Module | Status | Notes |
|--------|--------|-------|
| `next/cache` | âœ… | `revalidateTag`, `revalidatePath`, `unstable_cache`, pluggable `CacheHandler`, `"use cache"` with `cacheLife()` and `cacheTag()` |
| `next/form` | âœ… | GET form interception + POST server action delegation |

### Legacy and Utility

| Module | Status | Notes |
|--------|--------|-------|
| `next/legacy/image` | âœ… | Translates legacy props to modern Image |
| `next/error` | âœ… | Default error page component |
| `next/config` | âœ… | `getConfig` / `setConfig` |
| `next/document` | âœ… | `Html`, `Head`, `Main`, `NextScript` |
| `next/constants` | âœ… | All phase constants |
| `next/amp` | â¬œ | No-op (AMP is deprecated) |
| `next/web-vitals` | â¬œ | No-op (use the `web-vitals` library directly) |

## Routing Features

| Feature | Status | Notes |
|---------|--------|-------|
| File-system routing (`pages/`) | âœ… | Automatic scanning with hot-reload on file changes |
| File-system routing (`app/`) | âœ… | Pages, routes, layouts, templates, loading, error, not-found, forbidden, unauthorized |
| Dynamic routes `[param]` | âœ… | Both routers |
| Catch-all `[...slug]` | âœ… | Both routers |
| Optional catch-all `[[...slug]]` | âœ… | Both routers |
| Route groups `(group)` | âœ… | URL-transparent, layouts still apply |
| Parallel routes `@slot` | âœ… | Discovery, layout props, `default.tsx`, inherited slots |
| Intercepting routes | âœ… | `(.)`, `(..)`, `(..)(..)`, `(...)` conventions |
| Route handlers (`route.ts`) | âœ… | Named HTTP methods, auto OPTIONS/HEAD, cookie attachment |
| Middleware | âœ… | `middleware.ts` and `proxy.ts` (Next.js 16). Matcher patterns (string, array, regex, `:param`, `:path*`, `:path+`) |
| i18n routing | ðŸŸ¡ | Pages Router locale prefix, Accept-Language detection, NEXT_LOCALE cookie. No domain-based routing |
| `basePath` | âœ… | Applied everywhere â€” URLs, Link, Router, navigation hooks |
| `trailingSlash` | âœ… | 308 redirects to canonical form |

## Server Features

### Rendering

| Feature | Status | Notes |
|---------|--------|-------|
| SSR (Pages Router) | âœ… | Streaming, `_app`/`_document`, `__NEXT_DATA__`, hydration |
| SSR (App Router) | âœ… | RSC pipeline, nested layouts, streaming, nav context for client components |
| React Server Components | âœ… | Via `@vitejs/plugin-rsc`. `"use client"` boundaries work correctly |
| Streaming SSR | âœ… | Both routers |
| Static export (`output: 'export'`) | âœ… | Generates static HTML/JSON for all routes |

### Data Fetching

| Feature | Status | Notes |
|---------|--------|-------|
| `getStaticProps` | âœ… | Props, redirect, notFound, revalidate |
| `getStaticPaths` | âœ… | `fallback: false`, `true`, `"blocking"` |
| `getServerSideProps` | âœ… | Full context including locale |
| ISR | âœ… | Stale-while-revalidate, pluggable `CacheHandler`, background regeneration |
| Server Actions (`"use server"`) | âœ… | Action execution, FormData, re-render after mutation, `redirect()` in actions |
| `"use cache"` directive | âœ… | File-level and function-level. `cacheLife()` profiles, `cacheTag()`, stale-while-revalidate |

### Metadata

| Feature | Status | Notes |
|---------|--------|-------|
| Metadata API | âœ… | `metadata`, `generateMetadata`, `viewport`, `generateViewport`, title templates |
| Metadata file routes | âœ… | sitemap.xml, robots.txt, manifest, favicon, OG images (static + dynamic) |
| `generateStaticParams` | âœ… | With `dynamicParams` enforcement |

### Other Server Features

| Feature | Status | Notes |
|---------|--------|-------|
| `connection()` | âœ… | Forces dynamic rendering |
| `instrumentation.ts` | âœ… | `register()` and `onRequestError()` callbacks |
| Route segment config | ðŸŸ¡ | `revalidate`, `dynamic`, `dynamicParams`. `runtime` and `preferredRegion` are ignored |

## Configuration

| Feature | Status | Notes |
|---------|--------|-------|
| `next.config.js` / `.ts` / `.mjs` | âœ… | Function configs, phase argument |
| `rewrites` / `redirects` / `headers` | âœ… | All phases, param interpolation |
| Environment variables (`NEXT_PUBLIC_*`) | âœ… | Inlined at build time via Vite |
| `images` config | ðŸŸ¡ | Parsed but not used for optimization |

## Caching

The cache is pluggable. The default `MemoryCacheHandler` works out of the box. For production, use a custom backend:

```ts
import { setCacheHandler } from "next/cache";
import { KVCacheHandler } from "vinext/cloudflare";

setCacheHandler(new KVCacheHandler(env.MY_KV_NAMESPACE));
```

The `CacheHandler` interface matches Next.js 16's shape, so community adapters should be compatible.

## Test Coverage

vinext's API compatibility is verified by:

- **1,700+ Vitest tests** â€” Unit and integration tests
- **380+ Playwright E2E tests** â€” Browser-based testing
- **Tests ported from Next.js** â€” Direct compatibility verification
- **OpenNext conformance suite** â€” Cloudflare deployment behavior

See the [test tracking document](https://github.com/cloudflare/vinext/blob/main/tests/nextjs-compat/TRACKING.md) for detailed results.

<Info>
  For features not supported, see the [Known Limitations](/advanced/known-limitations) page.
</Info>
